/*
 * ReferenceDataAPILib
 *
 * This file was automatically generated by APIMATIC v2.0 ( https://apimatic.io ).
 */
package com.au.cbus.formbuilder.raml.generated.entities.apimatic.referencedata.controllers;

import java.io.*;
import java.util.*;
import java.util.concurrent.*;
import com.fasterxml.jackson.core.type.TypeReference;
import org.joda.time.DateTime;

import com.au.cbus.formbuilder.raml.generated.entities.apimatic.referencedata.*;
import com.au.cbus.formbuilder.raml.generated.entities.apimatic.referencedata.models.*;
import com.au.cbus.formbuilder.raml.generated.entities.apimatic.referencedata.exceptions.*;
import com.au.cbus.formbuilder.raml.generated.entities.apimatic.referencedata.http.client.HttpClient;
import com.au.cbus.formbuilder.raml.generated.entities.apimatic.referencedata.http.client.HttpContext;
import com.au.cbus.formbuilder.raml.generated.entities.apimatic.referencedata.http.request.HttpRequest;
import com.au.cbus.formbuilder.raml.generated.entities.apimatic.referencedata.http.response.HttpResponse;
import com.au.cbus.formbuilder.raml.generated.entities.apimatic.referencedata.http.response.HttpStringResponse;
import com.au.cbus.formbuilder.raml.generated.entities.apimatic.referencedata.http.client.APICallBack;
import com.au.cbus.formbuilder.raml.generated.entities.apimatic.referencedata.controllers.syncwrapper.APICallBackCatcher;

public class ReferenceController extends BaseController {    
    //private static variables for the singleton pattern
    private static Object syncObject = new Object();
    private static ReferenceController instance = null;

    /**
     * Singleton pattern implementation 
     * @return The singleton instance of the ReferenceController class 
     */
    public static ReferenceController getInstance() {
        synchronized (syncObject) {
            if (null == instance) {
                instance = new ReferenceController();
            }
        }
        return instance;
    }

    /**
     * Get reference data
     * @param    codesets    Required parameter: list of comma delimetered codesets to use.
     * @param    system    Optional parameter: Optional system whos codesets to display. If specified the systems values will be returned along with the enterprise values. If not provided, only enterprise values will be returned.
     * @param    xTransactionID    Optional parameter: Unique ID for the Integration transaction. Generated by the Integration Platform, not the consumer system.
     * @param    xTrackingID    Optional parameter: Consumer system's tracking ID for this request (if any). This is optional and purely for troubleshooting / analysis purposes.
     * @param    xSessionID    Optional parameter: Consumer system's session ID for this request (if any). This is opti onal and purely for troubleshooting / analysis purposes.
     * @param    xCreationTime    Optional parameter: The time this message was created by the invoking system. This is optional and purely for troubleshooting / analysis purposes.
     * @param    xInitialSystem    Optional parameter: The system that initiated this transaction. This is optional and purely for troubleshooting / analysis purposes.
     * @param    xInitialComponent    Optional parameter: The first component that was involved in this transaction. This is optional and purely for troubleshooting / analysis purposes.
     * @param    xInitialOperation    Optional parameter: The first operation that was involved in this transaction. This is optional and purely for troubleshooting / analysis purposes.may be tunneled to the provider system for fine-grained access control.
     * @param    xClientID    Optional parameter: The Client ID of the consumer
     * @param    xClientSecret    Optional parameter: The Client Secret of the consumer
     * @return    Returns the ReferenceDataCodesetsResponse32 response from the API call 
     */
    public ReferenceDataCodesetsResponse32 getReferenceDataCodesetsGET(
                final String codesets,
                final String system,
                final String xTransactionID,
                final String xTrackingID,
                final String xSessionID,
                final DateTime xCreationTime,
                final String xInitialSystem,
                final String xInitialComponent,
                final String xInitialOperation,
                final String xClientID,
                final String xClientSecret
    ) throws Throwable {
        APICallBackCatcher<ReferenceDataCodesetsResponse32> callback = new APICallBackCatcher<ReferenceDataCodesetsResponse32>();
        getReferenceDataCodesetsGETAsync(codesets, system, xTransactionID, xTrackingID, xSessionID, xCreationTime, xInitialSystem, xInitialComponent, xInitialOperation, xClientID, xClientSecret, callback);
        if(!callback.isSuccess())
            throw callback.getError();
        return callback.getResult();
    }

    /**
     * Get reference data
     * @param    codesets    Required parameter: list of comma delimetered codesets to use.
     * @param    system    Optional parameter: Optional system whos codesets to display. If specified the systems values will be returned along with the enterprise values. If not provided, only enterprise values will be returned.
     * @param    xTransactionID    Optional parameter: Unique ID for the Integration transaction. Generated by the Integration Platform, not the consumer system.
     * @param    xTrackingID    Optional parameter: Consumer system's tracking ID for this request (if any). This is optional and purely for troubleshooting / analysis purposes.
     * @param    xSessionID    Optional parameter: Consumer system's session ID for this request (if any). This is opti onal and purely for troubleshooting / analysis purposes.
     * @param    xCreationTime    Optional parameter: The time this message was created by the invoking system. This is optional and purely for troubleshooting / analysis purposes.
     * @param    xInitialSystem    Optional parameter: The system that initiated this transaction. This is optional and purely for troubleshooting / analysis purposes.
     * @param    xInitialComponent    Optional parameter: The first component that was involved in this transaction. This is optional and purely for troubleshooting / analysis purposes.
     * @param    xInitialOperation    Optional parameter: The first operation that was involved in this transaction. This is optional and purely for troubleshooting / analysis purposes.may be tunneled to the provider system for fine-grained access control.
     * @param    xClientID    Optional parameter: The Client ID of the consumer
     * @param    xClientSecret    Optional parameter: The Client Secret of the consumer
     * @return    Returns the void response from the API call 
     */
    public void getReferenceDataCodesetsGETAsync(
                final String codesets,
                final String system,
                final String xTransactionID,
                final String xTrackingID,
                final String xSessionID,
                final DateTime xCreationTime,
                final String xInitialSystem,
                final String xInitialComponent,
                final String xInitialOperation,
                final String xClientID,
                final String xClientSecret,
                final APICallBack<ReferenceDataCodesetsResponse32> callBack
    ) {
        Runnable _responseTask = new Runnable() {
            public void run() {
                //the base uri for api requests
                String _baseUri = Configuration.baseUri;

                //prepare query string for API call
                StringBuilder _queryBuilder = new StringBuilder(_baseUri);
                _queryBuilder.append("/reference-data/codesets");

                //process query parameters
                APIHelper.appendUrlWithQueryParameters(_queryBuilder, new HashMap<String, Object>() {
                    private static final long serialVersionUID = 8315339114457862530L;
                    {
                        put( "codesets", codesets );
                        put( "system", system );
                    }});
                //validate and preprocess url
                String _queryUrl = APIHelper.cleanUrl(_queryBuilder);

                //load all headers for the outgoing API request
                Map<String, String> _headers = new HashMap<String, String>() {
                    private static final long serialVersionUID = -38647449L;
                    {
                        put( "X-TransactionID", xTransactionID );
                        put( "X-TrackingID", xTrackingID );
                        put( "X-SessionID", xSessionID );
                        put( "X-CreationTime", DateTimeHelper.toRfc8601DateTime(xCreationTime) );
                        put( "X-InitialSystem", xInitialSystem );
                        put( "X-InitialComponent", xInitialComponent );
                        put( "X-InitialOperation", xInitialOperation );
                        put( "X-ClientID", xClientID );
                        put( "X-ClientSecret", xClientSecret );
                        put( "user-agent", "APIMATIC 2.0" );
                        put( "accept", "application/json" );
                    }
                };

                //prepare and invoke the API call request to fetch the response
                final HttpRequest _request = getClientInstance().get(_queryUrl, _headers, null);

                //invoke the callback before request if its not null
                if (getHttpCallBack() != null)
                {
                    getHttpCallBack().OnBeforeRequest(_request);
                }

                //invoke request and get response
                getClientInstance().executeAsStringAsync(_request, new APICallBack<HttpResponse>() {
                    public void onSuccess(HttpContext _context, HttpResponse _response) {
                        try {

                            //invoke the callback after response if its not null
                            if (getHttpCallBack() != null)	
                            {
                                getHttpCallBack().OnAfterResponse(_context);
                            }

                            //Error handling using HTTP status codes
                            int _responseCode = _response.getStatusCode();
                            if (_responseCode == 400)
                                throw new ResponseErrorBaseTypeException("Bad request", _context);

                            if (_responseCode == 401)
                                throw new ResponseErrorBaseTypeException("Unauthorised request", _context);

                            if (_responseCode == 403)
                                throw new ResponseErrorBaseTypeException("Forbidden", _context);

                            if (_responseCode == 404)
                                throw new ResponseErrorBaseTypeException("Resource not found", _context);

                            if (_responseCode == 405)
                                throw new ResponseErrorBaseTypeException("Method not allowed", _context);

                            if (_responseCode == 406)
                                throw new ResponseErrorBaseTypeException("Not acceptable", _context);

                            if (_responseCode == 415)
                                throw new ResponseErrorBaseTypeException("Unsupported media type", _context);

                            if (_responseCode == 500)
                                throw new ResponseErrorBaseTypeException("Server error", _context);

                            if (_responseCode == 502)
                                throw new ResponseErrorBaseTypeException("Bad gateway", _context);

                            //handle errors defined at the API level
                            validateResponse(_response, _context);

                            //extract result from the http response
                            String _responseBody = ((HttpStringResponse)_response).getBody();
                            ReferenceDataCodesetsResponse32 _result = APIHelper.deserialize(_responseBody,
                                                        new TypeReference<ReferenceDataCodesetsResponse32>(){});

                            //let the caller know of the success
                            callBack.onSuccess(_context, _result);
                        } catch (APIException error) {
                            //let the caller know of the error
                            callBack.onFailure(_context, error);
                        } catch (IOException ioException) {
                            //let the caller know of the caught IO Exception
                            callBack.onFailure(_context, ioException);
                        } catch (Exception exception) {
                            //let the caller know of the caught Exception
                            callBack.onFailure(_context, exception);
                        }
                    }
                    public void onFailure(HttpContext _context, Throwable _error) {
                        //invoke the callback after response if its not null
                        if (getHttpCallBack() != null)
                        {
                            getHttpCallBack().OnAfterResponse(_context);
                        }

                        //let the caller know of the failure
                        callBack.onFailure(_context, _error);
                    }
                });
            }
        };

        //execute async using thread pool
        APIHelper.getScheduler().execute(_responseTask);
    }

    /**
     * Common error responses returned by an API
     * @param    accountType    Required parameter: Example: 
     * @param    fundName    Optional parameter: Search with full or partial fund name
     * @param    usi    Optional parameter: Search by Unique Superannuation Identifier
     * @param    abn    Optional parameter: Search by Fund's ABN
     * @param    xTransactionID    Optional parameter: Unique ID for the Integration transaction. Generated by the Integration Platform, not the consumer system.
     * @param    xTrackingID    Optional parameter: Consumer system's tracking ID for this request (if any). This is optional and purely for troubleshooting / analysis purposes.
     * @param    xSessionID    Optional parameter: Consumer system's session ID for this request (if any). This is opti onal and purely for troubleshooting / analysis purposes.
     * @param    xCreationTime    Optional parameter: The time this message was created by the invoking system. This is optional and purely for troubleshooting / analysis purposes.
     * @param    xInitialSystem    Optional parameter: The system that initiated this transaction. This is optional and purely for troubleshooting / analysis purposes.
     * @param    xInitialComponent    Optional parameter: The first component that was involved in this transaction. This is optional and purely for troubleshooting / analysis purposes.
     * @param    xInitialOperation    Optional parameter: The first operation that was involved in this transaction. This is optional and purely for troubleshooting / analysis purposes.may be tunneled to the provider system for fine-grained access control.
     * @param    xClientID    Optional parameter: The Client ID of the consumer
     * @param    xClientSecret    Optional parameter: The Client Secret of the consumer
     * @param    page    Optional parameter: The page number requested, starting from 1
     * @param    pageSize    Optional parameter: The number of records per page
     * @return    Returns the ReferenceDataSuperFundsResponse63 response from the API call 
     */
    public ReferenceDataSuperFundsResponse63 getReferenceDataSuperFundsGET(
                final AccountTypeEnum accountType,
                final String fundName,
                final String usi,
                final String abn,
                final String xTransactionID,
                final String xTrackingID,
                final String xSessionID,
                final DateTime xCreationTime,
                final String xInitialSystem,
                final String xInitialComponent,
                final String xInitialOperation,
                final String xClientID,
                final String xClientSecret,
                final Integer page,
                final Integer pageSize
    ) throws Throwable {
        APICallBackCatcher<ReferenceDataSuperFundsResponse63> callback = new APICallBackCatcher<ReferenceDataSuperFundsResponse63>();
        getReferenceDataSuperFundsGETAsync(accountType, fundName, usi, abn, xTransactionID, xTrackingID, xSessionID, xCreationTime, xInitialSystem, xInitialComponent, xInitialOperation, xClientID, xClientSecret, page, pageSize, callback);
        if(!callback.isSuccess())
            throw callback.getError();
        return callback.getResult();
    }

    /**
     * Common error responses returned by an API
     * @param    accountType    Required parameter: Example: 
     * @param    fundName    Optional parameter: Search with full or partial fund name
     * @param    usi    Optional parameter: Search by Unique Superannuation Identifier
     * @param    abn    Optional parameter: Search by Fund's ABN
     * @param    xTransactionID    Optional parameter: Unique ID for the Integration transaction. Generated by the Integration Platform, not the consumer system.
     * @param    xTrackingID    Optional parameter: Consumer system's tracking ID for this request (if any). This is optional and purely for troubleshooting / analysis purposes.
     * @param    xSessionID    Optional parameter: Consumer system's session ID for this request (if any). This is opti onal and purely for troubleshooting / analysis purposes.
     * @param    xCreationTime    Optional parameter: The time this message was created by the invoking system. This is optional and purely for troubleshooting / analysis purposes.
     * @param    xInitialSystem    Optional parameter: The system that initiated this transaction. This is optional and purely for troubleshooting / analysis purposes.
     * @param    xInitialComponent    Optional parameter: The first component that was involved in this transaction. This is optional and purely for troubleshooting / analysis purposes.
     * @param    xInitialOperation    Optional parameter: The first operation that was involved in this transaction. This is optional and purely for troubleshooting / analysis purposes.may be tunneled to the provider system for fine-grained access control.
     * @param    xClientID    Optional parameter: The Client ID of the consumer
     * @param    xClientSecret    Optional parameter: The Client Secret of the consumer
     * @param    page    Optional parameter: The page number requested, starting from 1
     * @param    pageSize    Optional parameter: The number of records per page
     * @return    Returns the void response from the API call 
     */
    public void getReferenceDataSuperFundsGETAsync(
                final AccountTypeEnum accountType,
                final String fundName,
                final String usi,
                final String abn,
                final String xTransactionID,
                final String xTrackingID,
                final String xSessionID,
                final DateTime xCreationTime,
                final String xInitialSystem,
                final String xInitialComponent,
                final String xInitialOperation,
                final String xClientID,
                final String xClientSecret,
                final Integer page,
                final Integer pageSize,
                final APICallBack<ReferenceDataSuperFundsResponse63> callBack
    ) {
        Runnable _responseTask = new Runnable() {
            public void run() {
                //the base uri for api requests
                String _baseUri = Configuration.baseUri;

                //prepare query string for API call
                StringBuilder _queryBuilder = new StringBuilder(_baseUri);
                _queryBuilder.append("/reference-data/super-funds");

                //process query parameters
                APIHelper.appendUrlWithQueryParameters(_queryBuilder, new HashMap<String, Object>() {
                    private static final long serialVersionUID = -591554581L;
                    {
                        put( "accountType", (accountType != null) ? accountType.value() : null );
                        put( "fundName?", fundName );
                        put( "usi?", usi );
                        put( "abn", abn );
                        put( "page", (page != null) ? page : 1 );
                        put( "pageSize", (pageSize != null) ? pageSize : 20 );
                    }});
                //validate and preprocess url
                String _queryUrl = APIHelper.cleanUrl(_queryBuilder);

                //load all headers for the outgoing API request
                Map<String, String> _headers = new HashMap<String, String>() {
                    private static final long serialVersionUID = -38647449L;
                    {
                        put( "X-TransactionID", xTransactionID );
                        put( "X-TrackingID", xTrackingID );
                        put( "X-SessionID", xSessionID );
                        put( "X-CreationTime", DateTimeHelper.toRfc8601DateTime(xCreationTime) );
                        put( "X-InitialSystem", xInitialSystem );
                        put( "X-InitialComponent", xInitialComponent );
                        put( "X-InitialOperation", xInitialOperation );
                        put( "X-ClientID", xClientID );
                        put( "X-ClientSecret", xClientSecret );
                        put( "user-agent", "APIMATIC 2.0" );
                        put( "accept", "application/json" );
                    }
                };

                //prepare and invoke the API call request to fetch the response
                final HttpRequest _request = getClientInstance().get(_queryUrl, _headers, null);

                //invoke the callback before request if its not null
                if (getHttpCallBack() != null)
                {
                    getHttpCallBack().OnBeforeRequest(_request);
                }

                //invoke request and get response
                getClientInstance().executeAsStringAsync(_request, new APICallBack<HttpResponse>() {
                    public void onSuccess(HttpContext _context, HttpResponse _response) {
                        try {

                            //invoke the callback after response if its not null
                            if (getHttpCallBack() != null)	
                            {
                                getHttpCallBack().OnAfterResponse(_context);
                            }

                            //Error handling using HTTP status codes
                            int _responseCode = _response.getStatusCode();
                            if (_responseCode == 400)
                                throw new ResponseErrorBaseTypeException("Bad request", _context);

                            if (_responseCode == 401)
                                throw new ResponseErrorBaseTypeException("Unauthorised request", _context);

                            if (_responseCode == 403)
                                throw new ResponseErrorBaseTypeException("Forbidden", _context);

                            if (_responseCode == 404)
                                throw new ResponseErrorBaseTypeException("Resource not found", _context);

                            if (_responseCode == 405)
                                throw new ResponseErrorBaseTypeException("Method not allowed", _context);

                            if (_responseCode == 406)
                                throw new ResponseErrorBaseTypeException("Not acceptable", _context);

                            if (_responseCode == 415)
                                throw new ResponseErrorBaseTypeException("Unsupported media type", _context);

                            if (_responseCode == 500)
                                throw new ResponseErrorBaseTypeException("Server error", _context);

                            if (_responseCode == 502)
                                throw new ResponseErrorBaseTypeException("Bad gateway", _context);

                            //handle errors defined at the API level
                            validateResponse(_response, _context);

                            //extract result from the http response
                            String _responseBody = ((HttpStringResponse)_response).getBody();
                            ReferenceDataSuperFundsResponse63 _result = APIHelper.deserialize(_responseBody,
                                                        new TypeReference<ReferenceDataSuperFundsResponse63>(){});

                            //let the caller know of the success
                            callBack.onSuccess(_context, _result);
                        } catch (APIException error) {
                            //let the caller know of the error
                            callBack.onFailure(_context, error);
                        } catch (IOException ioException) {
                            //let the caller know of the caught IO Exception
                            callBack.onFailure(_context, ioException);
                        } catch (Exception exception) {
                            //let the caller know of the caught Exception
                            callBack.onFailure(_context, exception);
                        }
                    }
                    public void onFailure(HttpContext _context, Throwable _error) {
                        //invoke the callback after response if its not null
                        if (getHttpCallBack() != null)
                        {
                            getHttpCallBack().OnAfterResponse(_context);
                        }

                        //let the caller know of the failure
                        callBack.onFailure(_context, _error);
                    }
                });
            }
        };

        //execute async using thread pool
        APIHelper.getScheduler().execute(_responseTask);
    }

}